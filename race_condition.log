go test -race ./server
==================
WARNING: DATA RACE
Write at 0x00c000178090 by goroutine 8:
  github.com/hrple/common/server.(*ApplicationServer).Start()        
      /d/workspaces/hrple/common/server/applicationServer.go:22 +0xe4
  github.com/hrple/common/server.Start()
      /d/workspaces/hrple/common/server/server.go:10 +0x43
  github.com/hrple/common/server.TestServerStart.func2()
      /d/workspaces/hrple/common/server/server_test.go:18 +0x69      

Previous write at 0x00c000178094 by goroutine 7:
  sync/atomic.StoreInt32()
      /usr/local/go/src/runtime/race_amd64.s:229 +0xb
  net/http.(*Server).Shutdown()
      /usr/local/go/src/net/http/server.go:2669 +0x6c
  github.com/hrple/common/server.(*ApplicationServer).Stop()
      /d/workspaces/hrple/common/server/applicationServer.go:33 +0x86
  github.com/hrple/common/server.Stop()
      /d/workspaces/hrple/common/server/server.go:16 +0x2f
  github.com/hrple/common/server.TestServerStart()
      /d/workspaces/hrple/common/server/server_test.go:27 +0x156
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb

Goroutine 8 (running) created at:
  github.com/hrple/common/server.TestServerStart()
      /d/workspaces/hrple/common/server/server_test.go:16 +0x134
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb

Goroutine 7 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1043 +0x660
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:1285 +0xa6
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb
  testing.runTests()
      /usr/local/go/src/testing/testing.go:1283 +0x527
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1200 +0x2ff
  main.main()
      _testmain.go:52 +0x223
==================
==================
--- FAIL: TestServerStart (0.00s)
WARNING: DATA RACE
Write at 0x00c0001780b8 by goroutine 8:
  github.com/hrple/common/server.(*ApplicationServer).Start()
      /d/workspaces/hrple/common/server/applicationServer.go:22 +0xe4
  github.com/hrple/common/server.Start()
      /d/workspaces/hrple/common/server/server.go:10 +0x43
  github.com/hrple/common/server.TestServerStart.func2()
      /d/workspaces/hrple/common/server/server_test.go:18 +0x69

Previous write at 0x00c0001780b8 by goroutine 7:
  sync/atomic.AddInt32()
      /usr/local/go/src/runtime/race_amd64.s:269 +0xb
  sync.(*Mutex).Unlock()
      /usr/local/go/src/sync/mutex.go:186 +0x51
  net/http.(*Server).closeIdleConns()
      /usr/local/go/src/net/http/server.go:2727 +0x2f0
  net/http.(*Server).Shutdown()
      /usr/local/go/src/net/http/server.go:2682 +0x1dc
  github.com/hrple/common/server.(*ApplicationServer).Stop()
      /d/workspaces/hrple/common/server/applicationServer.go:33 +0x86
  github.com/hrple/common/server.Stop()
      /d/workspaces/hrple/common/server/server.go:16 +0x2f
  github.com/hrple/common/server.TestServerStart()
      /d/workspaces/hrple/common/server/server_test.go:27 +0x156
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb

Goroutine 8 (running) created at:
  github.com/hrple/common/server.TestServerStart()
      /d/workspaces/hrple/common/server/server_test.go:16 +0x134
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb

Goroutine 7 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1043 +0x660
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:1285 +0xa6
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb
  testing.runTests()
      /usr/local/go/src/testing/testing.go:1283 +0x527
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1200 +0x2ff
  main.main()
      _testmain.go:52 +0x223
==================
==================
WARNING: DATA RACE
Write at 0x00c0001780c0 by goroutine 8:
  github.com/hrple/common/server.(*ApplicationServer).Start()
      /d/workspaces/hrple/common/server/applicationServer.go:22 +0xe4
  github.com/hrple/common/server.Start()
      /d/workspaces/hrple/common/server/server.go:10 +0x43
  github.com/hrple/common/server.TestServerStart.func2()
      /d/workspaces/hrple/common/server/server_test.go:18 +0x69

Previous read at 0x00c0001780c0 by goroutine 7:
  net/http.(*Server).closeListenersLocked()
      /usr/local/go/src/net/http/server.go:2732 +0x5e
  net/http.(*Server).Shutdown()
      /usr/local/go/src/net/http/server.go:2672 +0x9d
  github.com/hrple/common/server.(*ApplicationServer).Stop()
      /d/workspaces/hrple/common/server/applicationServer.go:33 +0x86
  github.com/hrple/common/server.Stop()
      /d/workspaces/hrple/common/server/server.go:16 +0x2f
  github.com/hrple/common/server.TestServerStart()
      /d/workspaces/hrple/common/server/server_test.go:27 +0x156
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb

Goroutine 8 (running) created at:
  github.com/hrple/common/server.TestServerStart()
      /d/workspaces/hrple/common/server/server_test.go:16 +0x134
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb

Goroutine 7 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1043 +0x660
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:1285 +0xa6
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb
  testing.runTests()
      /usr/local/go/src/testing/testing.go:1283 +0x527
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1200 +0x2ff
  main.main()
      _testmain.go:52 +0x223
==================
==================
WARNING: DATA RACE
Write at 0x00c0001780c8 by goroutine 8:
  github.com/hrple/common/server.(*ApplicationServer).Start()
      /d/workspaces/hrple/common/server/applicationServer.go:22 +0xe4
  github.com/hrple/common/server.Start()
      /d/workspaces/hrple/common/server/server.go:10 +0x43
  github.com/hrple/common/server.TestServerStart.func2()
      /d/workspaces/hrple/common/server/server_test.go:18 +0x69

Previous read at 0x00c0001780c8 by goroutine 7:
  net/http.(*Server).closeIdleConns()
      /usr/local/go/src/net/http/server.go:2710 +0xc3
  net/http.(*Server).Shutdown()
      /usr/local/go/src/net/http/server.go:2682 +0x1dc
  github.com/hrple/common/server.(*ApplicationServer).Stop()
      /d/workspaces/hrple/common/server/applicationServer.go:33 +0x86
  github.com/hrple/common/server.Stop()
      /d/workspaces/hrple/common/server/server.go:16 +0x2f
  github.com/hrple/common/server.TestServerStart()
      /d/workspaces/hrple/common/server/server_test.go:27 +0x156
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb

Goroutine 8 (running) created at:
  github.com/hrple/common/server.TestServerStart()
      /d/workspaces/hrple/common/server/server_test.go:16 +0x134
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb

Goroutine 7 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1043 +0x660
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:1285 +0xa6
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb
  testing.runTests()
      /usr/local/go/src/testing/testing.go:1283 +0x527
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1200 +0x2ff
  main.main()
      _testmain.go:52 +0x223
==================
==================
WARNING: DATA RACE
Write at 0x00c0001780d0 by goroutine 8:
  github.com/hrple/common/server.(*ApplicationServer).Start()
      /d/workspaces/hrple/common/server/applicationServer.go:22 +0xe4
  github.com/hrple/common/server.Start()
      /d/workspaces/hrple/common/server/server.go:10 +0x43
  github.com/hrple/common/server.TestServerStart.func2()
      /d/workspaces/hrple/common/server/server_test.go:18 +0x69

Previous write at 0x00c0001780d0 by goroutine 7:
  net/http.(*Server).getDoneChanLocked()
      /usr/local/go/src/net/http/server.go:2600 +0xe2
  net/http.(*Server).closeDoneChanLocked()
      /usr/local/go/src/net/http/server.go:2606 +0x36
  net/http.(*Server).Shutdown()
      /usr/local/go/src/net/http/server.go:2673 +0xc5
  github.com/hrple/common/server.(*ApplicationServer).Stop()
      /d/workspaces/hrple/common/server/applicationServer.go:33 +0x86
  github.com/hrple/common/server.Stop()
      /d/workspaces/hrple/common/server/server.go:16 +0x2f
  github.com/hrple/common/server.TestServerStart()
      /d/workspaces/hrple/common/server/server_test.go:27 +0x156
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb

Goroutine 8 (running) created at:
  github.com/hrple/common/server.TestServerStart()
      /d/workspaces/hrple/common/server/server_test.go:16 +0x134
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb

Goroutine 7 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1043 +0x660
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:1285 +0xa6
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb
  testing.runTests()
      /usr/local/go/src/testing/testing.go:1283 +0x527
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1200 +0x2ff
  main.main()
      _testmain.go:52 +0x223
==================
==================
WARNING: DATA RACE
Write at 0x00c0001780d8 by goroutine 8:
  github.com/hrple/common/server.(*ApplicationServer).Start()
      /d/workspaces/hrple/common/server/applicationServer.go:22 +0xe4
  github.com/hrple/common/server.Start()
      /d/workspaces/hrple/common/server/server.go:10 +0x43
  github.com/hrple/common/server.TestServerStart.func2()
      /d/workspaces/hrple/common/server/server_test.go:18 +0x69

Previous read at 0x00c0001780d8 by goroutine 7:
  net/http.(*Server).Shutdown()
      /usr/local/go/src/net/http/server.go:2674 +0xdd
  github.com/hrple/common/server.(*ApplicationServer).Stop()
      /d/workspaces/hrple/common/server/applicationServer.go:33 +0x86
  github.com/hrple/common/server.Stop()
      /d/workspaces/hrple/common/server/server.go:16 +0x2f
  github.com/hrple/common/server.TestServerStart()
      /d/workspaces/hrple/common/server/server_test.go:27 +0x156
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb

Goroutine 8 (running) created at:
  github.com/hrple/common/server.TestServerStart()
      /d/workspaces/hrple/common/server/server_test.go:16 +0x134
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb

Goroutine 7 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1043 +0x660
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:1285 +0xa6
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:992 +0x1eb
  testing.runTests()
      /usr/local/go/src/testing/testing.go:1283 +0x527
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1200 +0x2ff
  main.main()
      _testmain.go:52 +0x223
==================
2020/03/13 13:11:54 Executed: /testGet Execution Time: 900ns Method : GET RemoteAddr:
2020/03/13 13:11:54 Executed: /testPut Execution Time: 800ns Method : PUT RemoteAddr:
FAIL
FAIL    github.com/hrple/common/server  0.018s
FAIL